#####  05.E-Commerce_API_Spec.md

-----------------------------------------------------------------

### ğŸ“‹ E-ì»¤ë¨¸ìŠ¤(E-Commerce) ì„œë¹„ìŠ¤ ê´€ë ¨ ì„¤ê³„ ë¬¸ì„œ

#### ğŸ¥   [1) ë§ˆì¼ìŠ¤í†¤ê´€ë ¨ë¬¸ì„œ](https://github.com/JuSuIn/hhplusweek2/)

#### ğŸ¥   [2) ìš”êµ¬ì‚¬í•­ ë¶„ì„ì„œ](https://github.com/JuSuIn/hhplusweek2/blob/main/server-java/docs/02.requirements.md)

#### ğŸ¥   [3) UML ë‹¤ì´ì–´ê·¸ë¨(UML Diagram)](https://github.com/JuSuIn/hhplusweek2/commit/49db5761552103c0541e87f0665b80e26d8cb74a)

#### ğŸ¥   [4) ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨(Sequence Diagram)](https://github.com/JuSuIn/hhplusweek2/blob/main/server-java/docs/03.E-Commerce_Sequence_Diagram.md)

#### ğŸ¥   [5) ERD](https://github.com/JuSuIn/hhplusweek2/)

### ğŸ¥    [6) API ê´€ë ¨ ë¬¸ì„œ](https://github.com/JuSuIn/hhplusweek2/blob/main/server-java/docs/05.E-Commerce_API_Spec.md)

-----------------------------------------------------------------
# ğŸ“˜ E-Commerce System API ëª…ì„¸ì„œ

> ì´ ë¬¸ì„œëŠ” E-Commerce ì‹œìŠ¤í…œì˜ ì£¼ìš” ê¸°ëŠ¥ë“¤ì— ëŒ€í•œ API ëª…ì„¸ë¥¼ ì •ë¦¬í•œ ê²ƒì…ë‹ˆë‹¤.

---

## ğŸ›’ 1. ìƒí’ˆ ì¡°íšŒ API

| í•­ëª© | ë‚´ìš© |
|------|------|
| **URL** | `/api/products` |
| **Method** | `GET` |
| **ìš”ì²­ íŒŒë¼ë¯¸í„°** | `category` (optional), `keyword` (optional) |
| **ì‘ë‹µ ì½”ë“œ** | `200 OK` |
| **ì„¤ëª…** | ì „ì²´ ë˜ëŠ” ì¡°ê±´ì— ë§ëŠ” ìƒí’ˆ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤. |

### âœ… ìš”ì²­ ì˜ˆì‹œ
```
GET /api/products?category=electronics&keyword=mouse
```

### âœ… ì‘ë‹µ ì˜ˆì‹œ
```json
[
  {
    "id": 101,
    "name": "Wireless Mouse",
    "price": 25000,
    "stock": 120
  }
]
```

---

## ğŸ’° 2. ì”ì•¡ ì¡°íšŒ API

| í•­ëª© | ë‚´ìš© |
|------|------|
| **URL** | `/api/balance/{userId}` |
| **Method** | `GET` |
| **Path Variable** | `userId` (í•„ìˆ˜) |
| **ì‘ë‹µ ì½”ë“œ** | `200 OK` |
| **ì„¤ëª…** | ì‚¬ìš©ìì˜ í˜„ì¬ ì”ì•¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤. |

### âœ… ìš”ì²­ ì˜ˆì‹œ
```
GET /api/balance/1
```

### âœ… ì‘ë‹µ ì˜ˆì‹œ
```json
{
  "userId": 1,
  "balance": 10000
}
```

---

## ğŸ’³ 3. ì”ì•¡ ì¶©ì „ API

| í•­ëª© | ë‚´ìš© |
|------|------|
| **URL** | `/api/balance/recharge` |
| **Method** | `POST` |
| **Body** | `userId`, `amount` |
| **ì‘ë‹µ ì½”ë“œ** | `200 OK`, `400 Bad Request` |
| **ì„¤ëª…** | ì…ë ¥í•œ ê¸ˆì•¡ë§Œí¼ ì‚¬ìš©ìì˜ ì”ì•¡ì„ ì¶©ì „í•©ë‹ˆë‹¤. |

### âœ… ìš”ì²­ ì˜ˆì‹œ
```json
{
  "userId": 1,
  "amount": 5000
}
```

### âœ… ì‘ë‹µ ì˜ˆì‹œ
```json
{
  "userId": 1,
  "newBalance": 15000
}
```

---

## ğŸŸï¸ 4. ì¿ í° ë°œê¸‰ API (ì„ ì°©ìˆœ)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **URL** | `/api/coupons/claim` |
| **Method** | `POST` |
| **Body** | `userId`, `couponCode` |
| **ì‘ë‹µ ì½”ë“œ** | `200 OK`, `409 Conflict` |
| **ì„¤ëª…** | ì¿ í°ì„ ì„ ì°©ìˆœìœ¼ë¡œ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤. (ì¤‘ë³µ ë°œê¸‰ ë¶ˆê°€) |

### âœ… ìš”ì²­ ì˜ˆì‹œ
```json
{
  "userId": 1,
  "couponCode": "SPRINGSALE2025"
}
```

### âœ… ì‘ë‹µ ì˜ˆì‹œ
```json
{
  "userId": 1,
  "couponCode": "SPRINGSALE2025",
  "status": "ISSUED"
}
```

---

## ğŸ§¾ 5. ì£¼ë¬¸ & ê²°ì œ API

| í•­ëª© | ë‚´ìš© |
|------|------|
| **URL** | `/api/orders` |
| **Method** | `POST` |
| **Body** | `userId`, `productId`, `quantity`, `couponCode` (optional) |
| **ì‘ë‹µ ì½”ë“œ** | `200 OK`, `400 Bad Request`, `402 Payment Required` |
| **ì„¤ëª…** | ì‚¬ìš©ìê°€ ìƒí’ˆì„ ì£¼ë¬¸í•˜ê³  ê²°ì œê¹Œì§€ ì§„í–‰í•©ë‹ˆë‹¤. ì”ì•¡ ë¶€ì¡± ì‹œ ì‹¤íŒ¨í•©ë‹ˆë‹¤. |

### âœ… ìš”ì²­ ì˜ˆì‹œ
```json
{
  "userId": 1,
  "productId": 101,
  "quantity": 2,
  "couponCode": "SPRINGSALE2025"
}
```

### âœ… ì‘ë‹µ ì˜ˆì‹œ
```json
{
  "orderId": 1001,
  "userId": 1,
  "totalPrice": 48000,
  "paidAmount": 48000,
  "status": "PAID"
}
```

---

## âœ… ì—ëŸ¬ ì‘ë‹µ í˜•ì‹

```json
{
  "timestamp": "2025-04-09T13:00:00",
  "status": 400,
  "error": "Bad Request",
  "message": "Invalid coupon code",
  "path": "/api/orders"
}
```
